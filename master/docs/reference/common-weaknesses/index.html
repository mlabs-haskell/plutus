<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/common-weaknesses" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.0">
<title data-rh="true">Common weaknesses | Plutus Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://plutus.readthedocs.io/plutus/master/docs/img/docusaurus-social-card.png"><meta data-rh="true" name="twitter:image" content="https://plutus.readthedocs.io/plutus/master/docs/img/docusaurus-social-card.png"><meta data-rh="true" property="og:url" content="https://plutus.readthedocs.io/plutus/master/docs/reference/common-weaknesses"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Common weaknesses | Plutus Documentation"><meta data-rh="true" name="description" content="This section provides a listing of common weaknesses in Plutus applications. &quot;Weakness&quot; is used in the sense of the Common Weakness Enumeration, as a potential source of vulnerabilities in applications."><meta data-rh="true" property="og:description" content="This section provides a listing of common weaknesses in Plutus applications. &quot;Weakness&quot; is used in the sense of the Common Weakness Enumeration, as a potential source of vulnerabilities in applications."><link data-rh="true" rel="icon" href="/plutus/master/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://plutus.readthedocs.io/plutus/master/docs/reference/common-weaknesses"><link data-rh="true" rel="alternate" href="https://plutus.readthedocs.io/plutus/master/docs/reference/common-weaknesses" hreflang="en"><link data-rh="true" rel="alternate" href="https://plutus.readthedocs.io/plutus/master/docs/reference/common-weaknesses" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-X6364ZT8L2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-X6364ZT8L2",{anonymize_ip:!0})</script><link rel="stylesheet" href="/plutus/master/docs/assets/css/styles.6c74e203.css">
<script src="/plutus/master/docs/assets/js/runtime~main.bd748d0b.js" defer="defer"></script>
<script src="/plutus/master/docs/assets/js/main.692ef450.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/plutus/master/docs/"><div class="navbar__logo"><img src="/plutus/master/docs/img/logo.svg" alt="Plutus Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/plutus/master/docs/img/logo.svg" alt="Plutus Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Plutus</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/plutus/master/docs/">User guide</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item"><a href="https://github.com/IntersectMBO/plutus" class="github-link" target="_blank"></a></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/plutus/master/docs/">Plutus user guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/plutus/master/docs/category/essential-concepts">Essential concepts</a><button aria-label="Expand sidebar category &#x27;Essential concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/plutus/master/docs/category/simple-example">Simple example</a><button aria-label="Expand sidebar category &#x27;Simple example&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/plutus/master/docs/category/using-plutus-tx">Using Plutus Tx</a><button aria-label="Expand sidebar category &#x27;Using Plutus Tx&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/plutus/master/docs/category/working-with-scripts">Working with scripts</a><button aria-label="Expand sidebar category &#x27;Working with scripts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/plutus/master/docs/category/architectural-decision-records">Architectural decision records</a><button aria-label="Expand sidebar category &#x27;Architectural decision records&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/plutus/master/docs/category/reference">Reference</a><button aria-label="Collapse sidebar category &#x27;Reference&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/plutus/master/docs/reference/plutus-tx-compiler-options">Plutus Tx compiler options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/plutus/master/docs/reference/script-optimization-techniques">Optimization techniques for Plutus scripts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/plutus/master/docs/reference/examples">Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/plutus/master/docs/reference/common-weaknesses">Common weaknesses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/plutus/master/docs/reference/plutus-language-changes">Plutus language changes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/plutus/master/docs/reference/upgrade-vasil-plutus-script-addresses">Upgrading to Vasil and Plutus script addresses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/plutus/master/docs/reference/cost-model-parameters">Cost model parameters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/plutus/master/docs/reference/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/plutus/master/docs/reference/further-resources">Further resources</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/plutus/master/docs/troubleshooting">Troubleshooting</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/plutus/master/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/plutus/master/docs/category/reference"><span itemprop="name">Reference</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Common weaknesses</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Common weaknesses</h1>
<p>This section provides a listing of common <em>weaknesses</em> in Plutus applications. &quot;Weakness&quot; is used in the sense of the <a href="https://cwe.mitre.org/" target="_blank" rel="noopener noreferrer">Common Weakness Enumeration</a>, as a potential source of vulnerabilities in applications.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="double-satisfaction">Double satisfaction<a href="#double-satisfaction" class="hash-link" aria-label="Direct link to Double satisfaction" title="Direct link to Double satisfaction">​</a></h2>
<p>Suppose we have a validator V that implements a typical &quot;atomic swap&quot; or &quot;escrowed swap&quot; between A and B where A goes first, i.e. V says:</p>
<blockquote>
<p>This output can only be spent if, in the same transaction, there is an output sending the agreed-upon payment (encoded in the output&#x27;s datum) to A.</p>
</blockquote>
<p>Now suppose that A and B have two swaps in progress, one for a token T1 at the price of 10 Ada, and one for a token T2 at the same price.
That means that there will exist two outputs, both locked by V.</p>
<p>Now B constructs a transaction which spends both outputs, and creates one output addressed to A with 10 Ada (taking T1 and T2 for himself).</p>
<p><img decoding="async" loading="lazy" alt="Double satisfaction" src="/plutus/master/docs/assets/images/double-satisfaction-cc2503bfc93e83f2375a16b648c4f151.png" width="980" height="740" class="img_ev3q">
<em>A diagram showing the transaction setup for the double satisfaction of two swaps.</em></p>
<p>A naive implementation of V will just check that the transaction has <em>an</em> output to A with 10 Ada in it, and then be satisfied.
But this allows B to &quot;double satisfy&quot; the two validators, because they will both see the same output and be satisfied.
The end result is that B can get away with paying only 10 Ada to A, even though B&#x27;s true liability to A is 20 Ada.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-going-wrong-here">What is going wrong here?<a href="#what-is-going-wrong-here" class="hash-link" aria-label="Direct link to What is going wrong here?" title="Direct link to What is going wrong here?">​</a></h3>
<p>It is difficult to say exactly what is going wrong here.
Neither validator&#x27;s expectations are explicitly being violated.</p>
<p>One way of looking at it is that this is a consequence of the fact that validators only <em>validate</em>, rather than <em>doing</em> things.
In a model like Ethereum&#x27;s, where smart contracts <em>make transfers</em>, then two smart contracts would simply make two transfers, and there would be no problem.
But in the EUTXO model all a validator can do is try to ascertain whether its wishes have been carried out, which in this case is ambiguous.</p>
<p>Following this metaphor, we can see how the same problem could arise in the real world.
Suppose that two tax auditors from two different departments come to visit you in turn to see if you&#x27;ve paid your taxes.
You come up with a clever scheme to confuse them.
Your tax liability to both departments is $10, so you make a single payment to the tax office&#x27;s bank account for $10.
When the auditors arrive, you show them your books, containing the payment to the tax office.
They both leave satisfied.</p>
<p>How do we solve this problem in the real world?
Well, the two tax offices might have different bank accounts, but more likely they would simply require you to use two different payment references.
That way, the payment that each auditor expect to see is unique, so they know it&#x27;s for them.
We can do something similar in the EUTXO model.
See the section on <a href="#unique-outputs">Unique outputs</a> below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="risks">Risks<a href="#risks" class="hash-link" aria-label="Direct link to Risks" title="Direct link to Risks">​</a></h3>
<p>This is a serious problem for many kinds of application.
Any application that makes payments to specific parties needs to ensure that those payments are correctly identified and don&#x27;t overlap with other payments.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="solutions">Solutions<a href="#solutions" class="hash-link" aria-label="Direct link to Solutions" title="Direct link to Solutions">​</a></h3>
<p>It&#x27;s possible that a solution will be developed that makes this weakness easier to avoid.
In the mean time, there are workarounds that developers can use.</p>
<ul>
<li><strong>Unique outputs</strong></li>
</ul>
<p>The simplest workaround is to ensure that the outputs which your scripts care about are unique.
This prevents them being confused with other outputs.</p>
<p>In the swap example, if A had used a different key hashes as their payment addresses in each, then one output could not have satisfied both validators, since each one would want an output addressed to a different key hash.</p>
<p>It is not too difficult to use unique outputs.
For payments to users, wallets typically already generate unique key hashes for every payment received.
For payments to script addresses it is a bit more complicated, and applications may wish to include the equivalent of a &quot;payment reference&quot; in the datum to keep things unique.</p>
<ul>
<li><strong>Ban other scripts</strong></li>
</ul>
<p>A more draconian workaround is for your script to insist that it runs in a transaction which is running no other scripts, so there is no risk of confusion.
Note that it is not enough to consider just validator scripts, minting and reward scripts must also be banned.</p>
<p>However, this prevents even benign usage of multiple scripts in one transaction, which stops people from designing interesting interactions, and may force users to break up transactions unnecessarily.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hard-limits">Hard limits<a href="#hard-limits" class="hash-link" aria-label="Direct link to Hard limits" title="Direct link to Hard limits">​</a></h2>
<p>Many resources on Cardano are limited in some fashion.
At a high level, limits can be enforced in two ways:</p>
<ul>
<li><em>Hard limits</em>: these are limits which cannot be breached. Typically, these are implemented with specific thresholds, where exceeding the threshold causes a hard failure.</li>
<li><em>Soft limits</em>: these are limits which <em>can</em> be breached, but where there is a significant disincentive to do so. One way of implementing a soft limit is to have sharply increasing costs to using the resource beyond the soft limit.</li>
</ul>
<p>Hard limits are clear, easy to specify, and provide hard guarantees for the protocol, but they have the disadvantage that there is no way to evade the limit.
This means that there is a discontinuity at the limit: beforehand you can always do more by paying more, but after the limit there is nothing you can do.</p>
<p>Currently, these resources on Cardano have hard limits:</p>
<ul>
<li>Transaction size</li>
<li>Block size</li>
<li>UTXO size</li>
<li>Script execution units</li>
</ul>
<p>If an application <em>requires</em> a transaction that exceeds one of these limits, then the application will be stuck unless the limit is increased or removed.
This is most common when scripts are involved, since a script can require a very particular shape of transaction, regardless of whether this exceeds limits.</p>
<p>Examples:</p>
<ul>
<li>A script requires providing a datum which is extremely large and exceeds the transaction size limit.</li>
<li>A script which locks an output needs more execution units than the limit.</li>
<li>A script requires creating a single output containing a very large amount of tokens, which exceeds the output size limit.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="risks-1">Risks<a href="#risks-1" class="hash-link" aria-label="Direct link to Risks" title="Direct link to Risks">​</a></h3>
<p>This is typically an issue for applications that work with user-supplied data, or data that can grow in an unbounded way over time.
This can result in data which itself becomes large, or which requires a large amount of resources to process.</p>
<p>For example:</p>
<ul>
<li>Managing an arbitrary collection of assets (unbounded over time).</li>
<li>Allowing user-specified payloads in datums (user-supplied unbounded data).</li>
</ul>
<p>Script size should not itself be a risk (since scripts and their sizes should generally be known ahead of time), but large scripts can reduce the amount of space available for other uses, heightening the risk of hitting a limit.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="solutions-1">Solutions<a href="#solutions-1" class="hash-link" aria-label="Direct link to Solutions" title="Direct link to Solutions">​</a></h3>
<p>In the long run, hard limits may be increased, removed, or turned into soft limits.</p>
<p>In the mean time, there are some approaches that developers can use to reduce the risk.</p>
<ul>
<li><strong>Careful testing</strong></li>
</ul>
<p>It is important to test as many of the execution paths of your application as possible.
This is important for correctness, but also to ensure that there are not unexpected cases where script resource usage spikes.</p>
<ul>
<li><strong>Bounding data usage</strong></li>
</ul>
<p>Carefully consider whether your application may rely on unbounded data, and try to avoid that.
For example, if your application needs to manage a large quantity of assets, try to split them across multiple UTXOs instead of relying on a single UTXO to hold them all.</p>
<ul>
<li><strong>Providing datums when creating outputs</strong></li>
</ul>
<p>Datum size issues are most likely to be discovered when an output is spent, because the datum is provided only as a hash on the output.
Insisting that the datum is provided in the transaction that creates the output can reveal that it is too big earlier in the process, allowing another path to be taken.
Depending on the application, this may still prevent it from progressing, if there is only one way to move forwards.</p>
<p>If <a href="https://cips.cardano.org/cips/cip32/" target="_blank" rel="noopener noreferrer">CIP-32</a> is implemented, this can be done conveniently by using inline datums, although that also risks hitting the output size limit.</p>
<ul>
<li><strong>Reducing script size costs through reference inputs</strong></li>
</ul>
<p>If <a href="https://cips.cardano.org/cips/cip33/" target="_blank" rel="noopener noreferrer">CIP-33</a> is implemented, then the contribution of scripts to transaction size can be massively reduced by using a reference script instead of including the entire script.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/IntersectMBO/plutus/edit/master/docusaurus/docs/reference/common-weaknesses.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/plutus/master/docs/reference/examples"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Examples</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/plutus/master/docs/reference/plutus-language-changes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Plutus language changes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#double-satisfaction" class="table-of-contents__link toc-highlight">Double satisfaction</a><ul><li><a href="#what-is-going-wrong-here" class="table-of-contents__link toc-highlight">What is going wrong here?</a></li><li><a href="#risks" class="table-of-contents__link toc-highlight">Risks</a></li><li><a href="#solutions" class="table-of-contents__link toc-highlight">Solutions</a></li></ul></li><li><a href="#hard-limits" class="table-of-contents__link toc-highlight">Hard limits</a><ul><li><a href="#risks-1" class="table-of-contents__link toc-highlight">Risks</a></li><li><a href="#solutions-1" class="table-of-contents__link toc-highlight">Solutions</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="footer-container"><div class="footer-left"><img class="footer-logo" src="/plutus/master/docs/img/logo-footer.svg" alt="Plutus"><span>Copyright ©<!-- -->2024<!-- --> IOHK. Built with Docusaurus.</span></div><div class="footer-right"><a href="/plutus/master/docs/">User Guide</a><a href="https://github.com/IntersectMBO/plutus" class="github-link" target="_blank"></a></div></div></footer></div>
</body>
</html>